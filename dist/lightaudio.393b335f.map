{"version":3,"sources":["js\\CircularMode.js","js\\LightAudio.js","index.js","..\\..\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\bundle-url.js","..\\..\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"],"names":["CircularMode","options","canvas","ctx","color","data","start_angle","dataValue","val","slice_angle","Math","PI","drawPieSlice","width","height","min","max","centerX","centerY","radius","startAngle","endAngle","fillStyle","beginPath","moveTo","arc","closePath","fill","LightAudio","parent","audioTitle","_thumb","thumbnail","querySelector","_audio","removeUnsusedElements","_rgb","getAverageRGB","r","g","b","style","display","init","textX","initCanvas","initAudio","cloneNode","removeChild","audio","document","createElement","getContext","circularMode","offsetWidth","offsetHeight","appendChild","addEventListener","handleMouse","e","controls","audioContext","AudioContext","window","webkitAudioContext","src","createMediaElementSource","analyser","createAnalyser","connect","destination","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","load","renderFrame","requestAnimationFrame","getByteFrequencyData","drawAudioThumbnail","drawAudioInfo","draw","img","grayScale","drawImage","_currentTime","m","pad","parseInt","currentTime","s","_duration","duration","font","fillText","measureText","ended","paused","play","pause","preventDefault","playPausePlayer","imgEl","blockSize","defaultRGB","context","i","length","rgb","count","naturalHeight","naturalWidth","getImageData","console","error","num","size","lightaudio","querySelectorAll","laElem","la","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","module"],"mappings":"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","file":"lightaudio.393b335f.map","sourceRoot":"..","sourcesContent":["export class CircularMode {\r\n    constructor(options) {\r\n        this.canvas = options.canvas;\r\n        this.ctx = options.ctx;\r\n        this.color = options.color;\r\n    }\r\n\r\n    draw(data) {\r\n        let start_angle = 0;\r\n        for (let dataValue in data) {\r\n            const val = data[dataValue];\r\n            const slice_angle = (2 * Math.PI * val) / 360;\r\n\r\n            this.drawPieSlice(\r\n                this.ctx,\r\n                this.canvas.width / 2,\r\n                this.canvas.height / 2,\r\n                0.7 *\r\n                    Math.min(\r\n                        this.canvas.width / 2,\r\n                        this.canvas.height / 2,\r\n                        Math.max(\r\n                            (this.canvas.width / 2, this.canvas.height / 2) -\r\n                                val,\r\n                            0\r\n                        )\r\n                    ),\r\n                start_angle,\r\n                start_angle + slice_angle,\r\n                this.color\r\n            );\r\n\r\n            start_angle += slice_angle;\r\n        }\r\n    }\r\n\r\n    drawPieSlice(ctx, centerX, centerY, radius, startAngle, endAngle, color) {\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        ctx.moveTo(centerX, centerY);\r\n        ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n}\r\n","import { CircularMode } from \"./CircularMode\";\r\n\r\nexport class LightAudio {\r\n    constructor(options) {\r\n        this.parent = options.parent;\r\n        this.audioTitle = options.audioTitle || \"\";\r\n        const _thumb = options.thumbnail || this.parent.querySelector(\"img\");\r\n        const _audio = this.parent.querySelector(\"audio\");\r\n\r\n        this.removeUnsusedElements(_thumb, _audio);\r\n\r\n        const _rgb = this.getAverageRGB(this.thumbnail);\r\n        this.color =\r\n            options.color ||\r\n            `rgba(${255 - _rgb.r}, ${255 - _rgb.g}, ${255 - _rgb.b}, 0.7)`;\r\n\r\n        this.thumbnail.style.display = \"none\";\r\n        this.init();\r\n        this.textX = 5;\r\n    }\r\n\r\n    init() {\r\n        this.initCanvas();\r\n        this.initAudio();\r\n    }\r\n\r\n    removeUnsusedElements(_thumb, _audio) {\r\n        this.thumbnail = _thumb.cloneNode(true);\r\n        this.parent.removeChild(_thumb);\r\n\r\n        this.audio = _audio.cloneNode(true);\r\n        this.parent.removeChild(_audio);\r\n    }\r\n\r\n    initCanvas() {\r\n        this.canvas = document.createElement(\"CANVAS\");\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n        this.circularMode = new CircularMode({\r\n            canvas: this.canvas,\r\n            ctx: this.ctx,\r\n            color: this.color\r\n        });\r\n        this.canvas.width = this.parent.offsetWidth;\r\n        this.canvas.height = this.parent.offsetHeight;\r\n        this.parent.appendChild(this.canvas);\r\n\r\n        this.canvas.addEventListener(\"mousedown\", e => {\r\n            this.handleMouse(e);\r\n        });\r\n    }\r\n\r\n    initAudio() {\r\n        this.audio.controls = false;\r\n\r\n        const audioContext = new AudioContext() || window.webkitAudioContext;\r\n        const src = audioContext.createMediaElementSource(this.audio);\r\n        this.analyser = audioContext.createAnalyser();\r\n        src.connect(this.analyser);\r\n        this.analyser.connect(audioContext.destination);\r\n        this.analyser.fftSize = 256;\r\n        const bufferLength = this.analyser.frequencyBinCount;\r\n\r\n        this.dataArray = new Uint8Array(bufferLength);\r\n\r\n        this.audio.load();\r\n        // this.audio.play();\r\n\r\n        this.renderFrame();\r\n    }\r\n\r\n    renderFrame() {\r\n        requestAnimationFrame(() => this.renderFrame());\r\n\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n\r\n        this.drawAudioThumbnail(this.ctx, this.canvas, this.thumbnail);\r\n\r\n        this.drawAudioInfo();\r\n        this.circularMode.draw(this.dataArray, this.color);\r\n    }\r\n\r\n    drawAudioThumbnail(ctx, canvas, img, grayScale = false) {\r\n        if (grayScale) {\r\n        }\r\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n    drawAudioInfo() {\r\n        const _currentTime = {\r\n            m: pad(parseInt(this.audio.currentTime / 60, 10), 2),\r\n            s: pad(parseInt(this.audio.currentTime % 60, 10), 2)\r\n        };\r\n\r\n        const _duration = {\r\n            m: pad(parseInt(this.audio.duration / 60, 10), 2),\r\n            s: pad(parseInt(this.audio.duration % 60, 10), 2)\r\n        };\r\n\r\n        this.ctx.font = \"16px Arial\";\r\n        this.ctx.fillText(_currentTime.m + \":\" + _currentTime.s, 5, 20);\r\n        this.ctx.fillText(\r\n            _duration.m + \":\" + _duration.s,\r\n            this.canvas.width -\r\n                this.ctx.measureText(_duration.m + \":\" + _duration.s).width -\r\n                5,\r\n            20\r\n        );\r\n\r\n        if (this.canvas.width > this.textX) {\r\n            this.textX++;\r\n        } else {\r\n            this.textX = 5 - this.ctx.measureText(this.audioTitle).width;\r\n        }\r\n\r\n        this.ctx.fillText(this.audioTitle, this.textX, this.canvas.height - 10);\r\n    }\r\n\r\n    playPausePlayer() {\r\n        if (this.audio.ended || this.audio.paused) {\r\n            this.audio.play();\r\n        } else {\r\n            this.audio.pause();\r\n        }\r\n    }\r\n\r\n    handleMouse(e) {\r\n        e.preventDefault();\r\n        this.playPausePlayer();\r\n    }\r\n\r\n    getAverageRGB(imgEl) {\r\n        var blockSize = 5,\r\n            defaultRGB = { r: 50, g: 50, b: 50 },\r\n            canvas = document.createElement(\"canvas\"),\r\n            context = canvas.getContext && canvas.getContext(\"2d\"),\r\n            data,\r\n            width,\r\n            height,\r\n            i = -4,\r\n            length,\r\n            rgb = { r: 0, g: 0, b: 0 },\r\n            count = 0;\r\n\r\n        if (!context) {\r\n            return defaultRGB;\r\n        }\r\n\r\n        height = canvas.height =\r\n            imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\r\n        width = canvas.width =\r\n            imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width;\r\n\r\n        context.drawImage(imgEl, 0, 0);\r\n\r\n        try {\r\n            data = context.getImageData(0, 0, width, height);\r\n        } catch (e) {\r\n            console.error(\"LIGHTAUDIO: image is in another domain\");\r\n            return defaultRGB;\r\n        }\r\n\r\n        length = data.data.length;\r\n\r\n        while ((i += blockSize * 4) < length) {\r\n            ++count;\r\n            rgb.r += data.data[i];\r\n            rgb.g += data.data[i + 1];\r\n            rgb.b += data.data[i + 2];\r\n        }\r\n\r\n        rgb.r = ~~(rgb.r / count);\r\n        rgb.g = ~~(rgb.g / count);\r\n        rgb.b = ~~(rgb.b / count);\r\n\r\n        return rgb;\r\n    }\r\n}\r\n\r\nfunction pad(num, size) {\r\n    var s = num + \"\";\r\n    while (s.length < size) s = \"0\" + s;\r\n    return s;\r\n}\r\n","import \"./css/style.scss\";\r\nimport { LightAudio } from \"./js/LightAudio\";\r\n\r\nconst lightaudio = document.querySelectorAll(\".lightaudio__container\");\r\n\r\nfor (let laElem of lightaudio) {\r\n    const la = new LightAudio({\r\n        parent: laElem,\r\n        audioTitle: \"Mohsen yeganeh - To Hata To Hata To Hata\"\r\n    });\r\n}\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}